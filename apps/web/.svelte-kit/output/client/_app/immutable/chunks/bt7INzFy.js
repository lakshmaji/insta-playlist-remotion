import{o as N,p as h,q as R,E as x,H as m,I as q,J as C,K as D,M as E,O as F,x as A,P as L,U as O,Q as H,R as M,S as P,A as U,T as Y,V as B,e as J,C as K,W as Q}from"./79o8AcDu.js";function W(s,f,c=!1){h&&R();var i=s,e=null,a=null,r=O,I=c?x:0,u=!1;const S=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&M(l),t&&P(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let p=!1;if(h){const g=m(i)===q;!!r===g&&(i=C(),D(i),E(!1),p=!0)}var T=H(),d=i;if(T&&(n=document.createDocumentFragment(),n.append(d=F())),r?e??=t&&A(()=>t(d)):a??=t&&A(()=>t(d)),T){var _=L,b=r?e:a,k=r?a:e;b&&_.skipped_effects.delete(b),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();p&&E(!0)};N(()=>{u=!1,f(S),u||v(null,null)},I),h&&(i=U)}function y(s,f){return s===f||s?.[Q]===f}function Z(s={},f,c,i){return Y(()=>{var e,a;return B(()=>{e=a,a=[],J(()=>{s!==c(...a)&&(f(s,...a),e&&y(c(...e),s)&&f(null,...e))})}),()=>{K(()=>{a&&y(c(...a),s)&&f(null,...a)})}}),s}export{Z as b,W as i};
